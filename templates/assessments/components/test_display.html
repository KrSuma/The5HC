{% if has_data %}
<div>
    <h3 class="font-medium text-gray-700 mb-3">{{ test_name }}</h3>
    <div class="p-4 bg-gray-50 rounded">
        {% if test_type == "overhead_squat" %}
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <span class="text-sm text-gray-600">점수:</span>
                    <span class="font-medium ml-2">{{ test_data.calculated_score|default:test_data.score }}/4</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">품질:</span>
                    <span class="font-medium ml-2">{{ test_data.quality|default:"-" }}</span>
                </div>
                <div class="col-span-2">
                    <span class="text-sm text-gray-600">보상 움직임:</span>
                    <ul class="mt-1 text-sm">
                        {% if test_data.knee_valgus %}
                            <li class="inline-block mr-3">• 무릎 내측 붕괴</li>
                        {% endif %}
                        {% if test_data.forward_lean %}
                            <li class="inline-block mr-3">• 전방 기울임</li>
                        {% endif %}
                        {% if test_data.heel_lift %}
                            <li class="inline-block mr-3">• 발뒤꿈치 들림</li>
                        {% endif %}
                        {% if test_data.arm_drop %}
                            <li class="inline-block mr-3">• 팔 전방 하강</li>
                        {% endif %}
                    </ul>
                </div>
                {% if test_data.notes %}
                <div class="col-span-2 mt-2">
                    <span class="text-sm text-gray-600">메모:</span>
                    <p class="text-sm mt-1">{{ test_data.notes }}</p>
                </div>
                {% endif %}
            </div>
        
        {% elif test_type == "push_up" %}
            <div class="grid grid-cols-3 gap-4">
                <div>
                    <span class="text-sm text-gray-600">완료 개수:</span>
                    <span class="font-medium ml-2">{{ test_data.reps }}개</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">타입:</span>
                    <span class="font-medium ml-2">
                        {% if test_data.push_up_type == "standard" %}표준
                        {% elif test_data.push_up_type == "modified" %}변형
                        {% else %}{{ test_data.push_up_type }}{% endif %}
                    </span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">점수:</span>
                    <span class="font-medium ml-2">{{ test_data.calculated_score|default:test_data.score }}/4</span>
                </div>
                {% if test_data.notes %}
                <div class="col-span-3 mt-2">
                    <span class="text-sm text-gray-600">메모:</span>
                    <p class="text-sm mt-1">{{ test_data.notes }}</p>
                </div>
                {% endif %}
            </div>
        
        {% elif test_type == "balance" %}
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div>
                    <span class="text-sm text-gray-600 block">우측 눈뜬</span>
                    <span class="font-medium">{{ test_data.right_eyes_open }}초</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600 block">좌측 눈뜬</span>
                    <span class="font-medium">{{ test_data.left_eyes_open }}초</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600 block">우측 눈감은</span>
                    <span class="font-medium">{{ test_data.right_eyes_closed }}초</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600 block">좌측 눈감은</span>
                    <span class="font-medium">{{ test_data.left_eyes_closed }}초</span>
                </div>
                <div class="col-span-2 md:col-span-4 mt-2">
                    <span class="text-sm text-gray-600">점수:</span>
                    <span class="font-medium ml-2">{{ test_data.calculated_score|default:test_data.score_manual }}/4</span>
                </div>
                {% if test_data.notes %}
                <div class="col-span-2 md:col-span-4 mt-2">
                    <span class="text-sm text-gray-600">메모:</span>
                    <p class="text-sm mt-1">{{ test_data.notes }}</p>
                </div>
                {% endif %}
            </div>
        
        {% elif test_type == "toe_touch" %}
            <div class="grid grid-cols-3 gap-4">
                <div>
                    <span class="text-sm text-gray-600">거리:</span>
                    <span class="font-medium ml-2">{{ test_data.distance }}cm</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">유연성:</span>
                    <span class="font-medium ml-2">
                        {% if test_data.flexibility == "palms_floor" %}손바닥 바닥
                        {% elif test_data.flexibility == "fingertips" %}손가락 끝
                        {% elif test_data.flexibility == "cannot_touch" %}닿지 않음
                        {% else %}{{ test_data.flexibility|default:"-" }}{% endif %}
                    </span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">점수:</span>
                    <span class="font-medium ml-2">{{ test_data.calculated_score|default:test_data.score }}/4</span>
                </div>
                {% if test_data.notes %}
                <div class="col-span-3 mt-2">
                    <span class="text-sm text-gray-600">메모:</span>
                    <p class="text-sm mt-1">{{ test_data.notes }}</p>
                </div>
                {% endif %}
            </div>
        
        {% elif test_type == "shoulder_mobility" %}
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div>
                    <span class="text-sm text-gray-600">우측:</span>
                    <span class="font-medium ml-2">{{ test_data.right }}cm</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">좌측:</span>
                    <span class="font-medium ml-2">{{ test_data.left }}cm</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">비대칭:</span>
                    <span class="font-medium ml-2">{{ test_data.asymmetry }}cm</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">점수:</span>
                    <span class="font-medium ml-2">{{ test_data.calculated_score|default:test_data.score }}/4</span>
                </div>
                {% if test_data.pain %}
                <div class="col-span-2 md:col-span-4">
                    <span class="text-sm text-red-600">⚠️ 통증 있음</span>
                </div>
                {% endif %}
                {% if test_data.notes %}
                <div class="col-span-2 md:col-span-4 mt-2">
                    <span class="text-sm text-gray-600">메모:</span>
                    <p class="text-sm mt-1">{{ test_data.notes }}</p>
                </div>
                {% endif %}
            </div>
        
        {% elif test_type == "farmers_carry" %}
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div>
                    <span class="text-sm text-gray-600">무게:</span>
                    <span class="font-medium ml-2">{{ test_data.weight }}kg</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">거리:</span>
                    <span class="font-medium ml-2">{{ test_data.distance }}m</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">시간:</span>
                    <span class="font-medium ml-2">{{ test_data.time }}초</span>
                </div>
                <div>
                    <span class="text-sm text-gray-600">점수:</span>
                    <span class="font-medium ml-2">{{ test_data.calculated_score|default:test_data.score }}/4</span>
                </div>
                {% if test_data.percentage %}
                <div class="col-span-2 md:col-span-4">
                    <span class="text-sm text-gray-600">체중 대비:</span>
                    <span class="font-medium ml-2">{{ test_data.percentage }}%</span>
                </div>
                {% endif %}
                {% if test_data.notes %}
                <div class="col-span-2 md:col-span-4 mt-2">
                    <span class="text-sm text-gray-600">메모:</span>
                    <p class="text-sm mt-1">{{ test_data.notes }}</p>
                </div>
                {% endif %}
            </div>
        
        {% elif test_type == "harvard_step" %}
            <div>
                <div class="grid grid-cols-3 gap-4 mb-3">
                    <div>
                        <span class="text-sm text-gray-600">1분 후:</span>
                        <span class="font-medium ml-2">{{ test_data.hr1 }}bpm</span>
                    </div>
                    <div>
                        <span class="text-sm text-gray-600">2분 후:</span>
                        <span class="font-medium ml-2">{{ test_data.hr2 }}bpm</span>
                    </div>
                    <div>
                        <span class="text-sm text-gray-600">3분 후:</span>
                        <span class="font-medium ml-2">{{ test_data.hr3 }}bpm</span>
                    </div>
                </div>
                <div class="flex justify-between">
                    <div>
                        <span class="text-sm text-gray-600">지속시간:</span>
                        <span class="font-medium ml-2">{{ test_data.duration }}초</span>
                    </div>
                    <div>
                        <span class="text-sm text-gray-600">점수:</span>
                        <span class="font-medium ml-2">{{ test_data.calculated_score|default:test_data.score_manual }}/4</span>
                    </div>
                </div>
                {% if test_data.notes %}
                <div class="mt-2">
                    <span class="text-sm text-gray-600">메모:</span>
                    <p class="text-sm mt-1">{{ test_data.notes }}</p>
                </div>
                {% endif %}
            </div>
        {% endif %}
    </div>
</div>
{% endif %}