{% load i18n %}
<nav class="bg-white shadow-lg" x-data="{ mobileMenuOpen: false }">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center py-4">
            <div class="flex items-center">
                <a href="{% url 'dashboard' %}" class="text-xl font-bold text-gray-800">
                    🏋️ The5HC
                </a>
            </div>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-4">
                <a href="{% url 'dashboard' %}" 
                   class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
                   hx-get="{% url 'dashboard' %}"
                   hx-target="#main-content"
                   hx-push-url="true">
                    {% trans "Dashboard" %}
                </a>
                <a href="{% url 'clients:list' %}"
                   class="nav-link {% if request.resolver_match.app_name == 'clients' %}active{% endif %}"
                   hx-get="{% url 'clients:list' %}"
                   hx-target="#main-content"
                   hx-push-url="true">
                    {% trans "Client Management" %}
                </a>
                <a href="{% url 'assessments:list' %}"
                   class="nav-link {% if request.resolver_match.app_name == 'assessments' %}active{% endif %}"
                   hx-get="{% url 'assessments:list' %}"
                   hx-target="#main-content"
                   hx-push-url="true">
                    {% trans "Assessment Management" %}
                </a>
                <a href="{% url 'sessions:package_list' %}"
                   class="nav-link {% if request.resolver_match.app_name == 'sessions' %}active{% endif %}"
                   hx-get="{% url 'sessions:package_list' %}"
                   hx-target="#main-content"
                   hx-push-url="true">
                    {% trans "Session Management" %}
                </a>
                {% comment %}
                <a href="{% url 'reports:list' %}"
                   class="nav-link {% if request.resolver_match.app_name == 'reports' %}active{% endif %}"
                   hx-get="{% url 'reports:list' %}"
                   hx-target="#main-content"
                   hx-push-url="true">
                    {% trans "Reports" %}
                </a>
                {% endcomment %}
            </div>
            
            <!-- User Menu -->
            <div class="relative" x-data="{ userMenuOpen: false }">
                <button @click="userMenuOpen = !userMenuOpen"
                        class="flex items-center text-gray-700 hover:text-gray-900">
                    <span class="mr-2">{{ user.get_full_name|default:user.email }}</span>
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
                
                <div x-show="userMenuOpen"
                     x-transition
                     @click.away="userMenuOpen = false"
                     class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                    <a href="{% url 'accounts:profile' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                        {% trans "Profile" %}
                    </a>
                    <a href="{% url 'accounts:logout' %}" 
                       class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                       hx-post="{% url 'accounts:logout' %}"
                       hx-confirm="{% trans 'Are you sure you want to logout?' %}">
                        {% trans "Logout" %}
                    </a>
                </div>
            </div>
            
            <!-- Mobile menu button -->
            <div class="md:hidden">
                <button @click="mobileMenuOpen = !mobileMenuOpen" class="text-gray-700 hover:text-gray-900">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" 
             x-transition
             class="md:hidden border-t border-gray-200 py-2">
            <a href="{% url 'dashboard' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">{% trans "Dashboard" %}</a>
            <a href="{% url 'clients:list' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">{% trans "Client Management" %}</a>
            <a href="{% url 'assessments:list' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">{% trans "Assessment Management" %}</a>
            <a href="{% url 'sessions:package_list' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">{% trans "Session Management" %}</a>
            {% comment %}<a href="{% url 'reports:list' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">{% trans "Reports" %}</a>{% endcomment %}
        </div>
    </div>
</nav>